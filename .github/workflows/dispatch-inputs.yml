name: Dispatch Inputs Demo

on:
  workflow_dispatch:
    inputs:
      example_string:
        description: "Enter a string value"
        required: true
        default: "hello world"
        type: string

      example_number:
        description: "Enter a number"
        required: false
        default: 42
        type: number

      example_boolean:
        description: "Enable feature?"
        required: false
        default: true
        type: boolean

      example_choice:
        description: "Pick an environment"
        required: true
        default: "dev"
        type: choice
        options:
          - dev
          - staging
          - prod

jobs:
  show-inputs:
    runs-on: ubuntu-latest
    steps:
      - name: Print all inputs
        run: |
          echo "String input: ${{ github.event.inputs.example_string }}"
          echo "Number input: ${{ github.event.inputs.example_number }}"
          echo "Boolean input: ${{ github.event.inputs.example_boolean }}"
          echo "Choice input: ${{ github.event.inputs.example_choice }}"
      # Boolean example
      - name: Run only if feature enabled
        if: ${{ github.event.inputs.example_boolean == 'true' }}
        run: echo "✅ Feature is ENABLED"

      - name: Run only if feature disabled
        if: ${{ github.event.inputs.example_boolean == 'false' }}
        run: echo "❌ Feature is DISABLED"

      # Choice branching
      - name: Run for DEV
        if: ${{ github.event.inputs.example_choice == 'dev' }}
        run: echo "Deploying to DEVELOPMENT environment..."

      - name: Run for STAGING
        if: ${{ github.event.inputs.example_choice == 'staging' }}
        run: echo "Deploying to STAGING environment..."

      - name: Run for PROD
        if: ${{ github.event.inputs.example_choice == 'prod' }}
        run: echo "🚀 Deploying to PRODUCTION environment!"

      # Number check example
      - name: Check number > 50
        if: ${{ fromJSON(github.event.inputs.example_number) > 50 }}
        run: echo "Number is greater than 50"

      - name: Check number <= 50
        if: ${{ fromJSON(github.event.inputs.example_number) <= 50 }}
        run: echo "Number is 50 or less"
